<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Чат</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="chat-container">
        <h2>Чат</h2>
        <div class="chat-tabs">
            <button onclick="showChat('system')">Система</button>
            <button onclick="showChat('bot')">Бот</button>
            <button onclick="showChat('group')">Групповой</button>
        </div>
        <div class="chat-box" id="chatBox"></div>
        <input type="text" id="chatInput" placeholder="Введите сообщение...">
        <button onclick="sendMessage()">Отправить</button>
        <button onclick="goHome()">На главную</button>
    </div>
    <script>
        let mode = 'system';
        const chats = {
            system: [],
            bot: [],
            group: []
        };

        function showChat(type) {
            mode = type;
            updateChat();
        }

        function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            if (!message) return;
            chats[mode].push("Вы: " + message);
            if (mode === "bot") {
                chats[mode].push("Бот: " + getBotReply(message));
            } else if (mode === "system") {
                chats[mode].push("СИСТЕМА: сообщение получено и обработано.");
            } else if (mode === "group") {
                chats[mode].push("Антон: ага, понял");
            }
            input.value = "";
            updateChat();
        }

        function updateChat() {
            const box = document.getElementById('chatBox');
            box.innerHTML = chats[mode].join('<br>');
        }

        function getBotReply(msg) {
            const lower = msg.toLowerCase();
            if (lower.includes("привет")) return "Привет, пользователь.";
            if (lower.includes("как дела")) return "Отлично, у меня всегда 100% заряд.";
            return "Не понимаю, но делаю вид что понял.";
        }

        function goHome() {
            window.location.href = "index.html";
        }

        showChat("system");
    </script>
</body>
</html>
